<div class="collection-index {{ col_per_row }} mobile-half{% if settings.animation != 'none' %} animate {{ settings.animation }}{% endif %}" data-alpha="{{ collection.title }}">
  <div class="collection-image">
    <a href="{{ collection.url }}" title="{{ collection_title }}">
      {% if collection.image %}
        {% render 'basic-responsive-image', type: collection.image, data_widths: '[180, 360, 540, 720, 900, 1080, 1296, 1512]' %}
        <noscript>
          <img src="{{ collection.image | img_url: '1024x1024' }}" alt="{{ collection.image.alt | escape }}" class="collection__image">
        </noscript>
      {% elsif collection.products.first and collection.products.first.media != empty %}
        {% render 'basic-responsive-image', type: collection.products.first.featured_media.preview_image, data_widths: '[180, 360, 540, 720, 900, 1080, 1296, 1512]' %}
        <noscript>
          <img src="{{ collection.products.first.featured_media.preview_image | img_url: '1024x1024' }}" alt="{{ collection.products.first.featured_media.preview_image.alt | escape }}" class="collection__image">
        </noscript>
      {% else %}
        {% render 'basic-responsive-image', type: blank, data_widths: '[180, 360, 540, 720, 900, 1080, 1296, 1512]' %}
        <noscript>
          <img src="{{ blank | img_url: '1024x1024' }}" alt="{{ collection.products.first.featured_media.alt | escape }}" class="collection__image">
        </noscript>
      {% endif %}
    </a>
  </div>

  <div class="product-info">
    <a href="{{ collection.url }}" title="{{ collection.title }}">
      <span class="product-title">{{ collection.title }}</span>
    </a>
  </div>
</div>
